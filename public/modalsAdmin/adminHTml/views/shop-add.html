<div ng-if="loaderStart" loader-css="line-scale-pulse-out" class="loader"></div>
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a ui-sref="dashboard">Home</a></li>
    <li class="breadcrumb-item"><a ui-sref="shops">Shops</a></li>
    <li class="breadcrumb-item active">Add Shops</li>
</ol>
<div class="panel">
    <div class="panel-heading">
        Add Shops
    </div>
    <div class="panel-body">
        <div ng-if="messages" role="alert" class="alert alert-danger">
            <div>
                {{messages}}</div>
        </div>

         <div class="title">
            Shop Owner Information
        </div>
        <form name="signUpForm">
            <div class="clearfix">
                <div class="col-sm-4 form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control" name="first_name" ng-model="user.owner_first_name" ng-pattern="/^[a-z ,.'-]+$/i" ng-minlength="3" ng-maxlength="20" maxlength="21"/>
                    <span style="color:red;" ng-show="signUpForm.first_name.$touched && signUpForm.first_name.$invalid && signUpForm.first_name.$error.required">First Name is required.</span>
                    <span style="color:red;" ng-show="signUpForm.first_name.$error.pattern">Enter Valid Character</span><br>
                    <span style="color:red " ng-show="signUpForm.first_name.$error.maxlength && signUpForm.first_name.$dirty">First name maximum length exceeds</span>
                </div>
                <div class="col-sm-4 form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" name="last_name" ng-model="user.owner_last_name" ng-pattern="/^[a-z ,.'-]+$/i" ng-minlength="3" ng-maxlength="20" maxlength="21"/>
                    <span style="color:red;" ng-show="signUpForm.last_name.$touched && signUpForm.last_name.$invalid && signUpForm.last_name.$error.required">Last Name is required.</span>
                    <span style="color:red;" ng-show="signUpForm.last_name.$error.pattern">Enter Valid Character</span><br>
                    <span style="color:red " ng-show="signUpForm.last_name.$error.maxlength && signUpForm.last_name.$dirty">First name maximum length exceeds</span>
                </div>
                <div class="col-sm-4 form-group">
                    <label>Mobile Number</label>
                    <input type="text" class="form-control" name="mobile_number" id="mobile_number" ng-model="user.owner_mobile_number" mask="(999) 999-9999" mask-clean='true' mask-restrict='reject' ng-minlength="14" ng-maxlength="14" maxlength="14" required />
                    <span style="color:red;" ng-show="signUpForm.mobile_number.$touched && signUpForm.mobile_number.$invalid && signUpForm.mobile_number.$error.required">Mobile number is required.</span>
                    <span style="color:red;" ng-show="signUpForm.mobile_number.$error.minlength">Phone have 10-digits minimum.</span>
                </div>
            </div>
            <div class="clearfix">
                <div class="col-sm-4 form-group">
                    <label>Email</label>
                    <input type="text" class="form-control" name="email" ng-model="user.owner_email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required/>
                    <span style="color:red" ng-message="pattern" class="error-message" ng-show="signUpForm.email.$invalid && (!signUpForm.email.$pristine || signUpForm.$submitted)">Email is not valid</span>
                    <div class="validationError" ng-messages="signUpForm.email.$error" ng-show="signUpForm.email.$error.required &&
                  signUpForm.email.$touched && signUpForm.email.$invalid" role="alert">
                        <span style="color:red" ng-message="required" class="error-message">Email is required</span>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <label>Licence No.</label>
                    <input type="text" class="form-control" name="license_number" ng-model="user.license_number" required>
                    <span style="color:red;" ng-show="signUpForm.license_number.$touched && signUpForm.license_number.$invalid && signUpForm.license_number.$error.required">Licence number is required.</span>
                </div>
            </div>
            <div class="title">
                Shop Information
            </div>
            <div class="clearfix">
                <div class="col-sm-4 form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" name="name" ng-model="user.name" ng-pattern="/^[a-z ,.'-]+$/i" ng-minlength="3" ng-maxlength="20" maxlength="21"/>
                    <span style="color:red;" ng-show="signUpForm.name.$touched && signUpForm.name.$invalid && signUpForm.name.$error.required">Name is required.</span>
                    <span style="color:red;" ng-show="signUpForm.name.$error.pattern">Enter Valid Character</span><br>
                    <span style="color:red " ng-show="signUpForm.name.$error.maxlength && signUpForm.name.$dirty">Name maximum length exceeds</span>
                </div>
            </div>
            <div class="clearfix">
                <div class="title">Shop Address
                    <input type="text" class="form-control " ng-model="detail.formatted" ng-change="passData(detail)" googleplace/>               
            </div>
        </div>
            <div class="clearfix">
                <div class="col-sm-4 form-group">
                    <label>Address</label>
                   <!--  <input type="text " class="form-control " ng-model="user.address" required /> -->
                   <div><input type="text" class="form-control " ng-model="user.street_address" required/></div>
                </div>
                <div class="col-sm-4 form-group">
                    <label>City</label>
                    <input type="text "  class="form-control " ng-model="user.city" required />
                </div>
                <div class="col-sm-4 form-group">
                    <label>Latitude</label>
                    <input type="text "  class="form-control " ng-model="user.latitude" required />
                </div>
            </div>
            <div class="clearfix">
                <div class="col-sm-4 form-group">
                    <label>State</label>
                    <input type="text "  class="form-control " ng-model="user.state" required />
                </div>
                <div class="col-sm-4 form-group">
                    <label>Zip</label>
                    <input type="text "  class="form-control " ng-model="user.zip" required />
                </div>
                <div class="col-sm-4 form-group">
                    <label>Longitude</label>
                    <input type="text "  class="form-control " ng-model="user.longitude" required />
                </div>
            </div>
            <div class="clearfix text-center">
                <button type="submit" ng-if="updateShopButton" id="save" ng-disabled="signUpForm.$invalid" class="btn btn-primary" ng-click="saveShop()">
                    <i class="fa fa-check" aria-hidden="true"></i> Save
                </button>
                <button type="submit" ng-if="!updateShopButton" id="save" ng-disabled="signUpForm.$invalid" class="btn btn-primary" ng-click="updateshop()">
                    <i class="fa fa-check" aria-hidden="true"></i> Update
                </button>
                </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="reset" class="btn btn-grey">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        <span>Reset</span>
                    </button>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript">
window.addEventListener('keydown', function(e) {
    if (e.keyIdentifier == 'U+000A' || e.keyIdentifier == 'Enter' || e.keyCode == 13) {
        if (e.target.nodeName == 'INPUT' && e.target.type == 'text') {
            e.preventDefault();
            return false;
        }
    }
}, true);
</script>
